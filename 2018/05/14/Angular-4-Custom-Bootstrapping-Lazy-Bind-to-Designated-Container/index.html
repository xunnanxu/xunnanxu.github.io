
<!DOCTYPE html>
<html lang="en">
    
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="generator" content="Shawn&#39;s Pitstop">
    <title>Angular 4+ Custom Bootstrapping: Lazy Bind to Designated Container - Shawn&#39;s Pitstop</title>
    <meta name="author" content="Shawn Xu">
    
    
    
        
            <link rel="alternate" type="application/rss+xml" title="RSS" href="/rss2.xml">
        
    
    <script type="application/ld+json">{"@context":"http://schema.org","@type":"BlogPosting","author":{"@type":"Person","name":"Shawn Xu","sameAs":["https://github.com/xunnanxu"],"image":"https://miro.medium.com/fit/c/90/90/1*7cPXDgvy2_tKMHR4SEd-yQ.jpeg"},"articleBody":"This works for Angular 4-6 so far.\n\n\n\nIf you have ever used Angular 1.x, you know there's a manual bootstrapping\noption which looks like:\n1angular.bootstrap(document.querySelector(&#x27;#myApp&#x27;), [&#x27;myModule&#x27;])`\nThis used to be pretty handy until Angular 2 comes in and changes the life.\nFor some reason they decide to hide that option and ask people to just use\n`bootstrap` in `@NgModule`.\n\nI get that because for general users this is good enough,especially if you are just building a general SPA.However if you want to build something advanced like lazy loading,or conditional rendering, then this seems a bit naive.\nThis is especially annoying when in React its counterpart is as simple as\n1234ReactDOM.render(       &lt;MyApp /&gt;,  document.querySelector(&#x27;#myApp&#x27;));\n\nThis alone won’t drive people away from Angular but it’s just one of the examplesthat shows Angular wants to force people into its model rather than thinking aboutuse cases in the real world.\nAlright enough whining and let’s get to coding. After all, Angular seems excellentespecially it covers everything from development, testing, and packaging out of the box.Let’s leave whining till next time.\n\n\nI’ll create a simple stackblitz app like this:\n\n\nIt’s pretty simple. The module tells Angular to bootstrap AppComponent,which looks for an element with tag &lt;my-app&gt;. After that it loads theHelloComponent which renders the greeting message from input.The button in AppComponent will switch the message to it works once clicked.\nBut what if we want to lazy load it into a div #myApp then?\nLooking at the document, it is not mentioned. However, if we carefully read it, we’llsee there’s something that reads:\n\nA component can also be bootstrapped imperatively in the module’s ngDoBootstrap() method. The @NgModule.bootstrap property tells the compiler that this is an entry component and it should generate code to bootstrap the application with this component.\n\nAnd there’s another chunk on that page that reads:\n\nThough the @NgModule decorator has an entryComponents array, most of the time you won’t have to explicitly set any entry components because Angular adds components listed in @NgModule.bootstrap and those in route definitions to entry components automatically. Though these two mechanisms account for most entry components, if your app happens to bootstrap or dynamically load a component by type imperatively, you must add it to entryComponents explicitly.\n\nAnd we are like:\n\n\nWait there’s another chunk on the bootstrapping page:\n\nThe application launches by bootstrapping the root AppModule, which is also referred to as an entryComponent. Among other things, the bootstrapping process creates the component(s) listed in the bootstrap array and inserts each one into the browser DOM.\n\nOk I get that. But still, WTF does that mean?\n\n\nNever mind. I figured out through reading document source code. After all, some say,documentation is for the weak.\nAnd here are the steps (finally)First of all, replace bootstrap with entryComponents in @NgModule.This will tell Angular not to preemptively initialize everything.In addition to that, the entryComponents param will tell angular to prepareall ComponentFactory instances and load them into app’s ComponentFactoryResolver.And if you re-read the document you’ll see what it means.\nSo our example app now looks like this:\n12345@NgModule(&#123;  imports:      [ BrowserModule, FormsModule ],  declarations: [ AppComponent, HelloComponent ],  entryComponents: [ AppComponent ]&#125;)\n\nNext, override the ngDoBootstrap() with an empty body.This will prevent default bootstrapping action when bootstrapModule() is calledin main.ts file.\n12345export class AppModule &#123;  public ngDoBootstrap(appRef: ApplicationRef) &#123;  &#125; &#125;\n\nAlright now we go back to the main.ts file to perform the core magic.\nThe source code (thanks to TypeScript) tells us thatplatformBrowserDynamic().bootstrapModule(AppModule)returns a NgModuleRef.\nIn NgModuleRef we can grab the injector. As we all know, angular is all aboutdependency injection. So we can call bootstrap here then and in newer version ofAngular, that would take an rootSelectorOrNode.\nGreat so let’s do:\n12345platformBrowserDynamic().bootstrapModule(AppModule)  .then((moduleRef: NgModuleRef&lt;AppModule&gt;) =&gt; &#123;    const app: ApplicationRef = moduleRef.injector.get(ApplicationRef);    app.bootstrap(AppComponent, &#x27;#myApp&#x27;);  &#125;)\n\nAfter this our app would boot, but nothing happens if you click on “Knock knock”.\nWTF?\nIn Angular 2+, there’s the magic of ngZone. You can read more about it in theirzone.js repo. In short, it provides an“isolated” execution context in which it hijacks the regular DOM methods to providefeedback loop for Angular to handle events more performantly. So inside Angular zone,your click is no longer a plain one but enhanced with magic to tell Angular somethinghas happened.\nSo how do we get the ngZone then? Remeber we have the omnipotent injector so wecan do\n1234567.then((moduleRef: NgModuleRef&lt;AppModule&gt;) =&gt; &#123;  const app: ApplicationRef = moduleRef.injector.get(ApplicationRef);  const ngZone: NgZone = moduleRef.injector.get(NgZone);  ngZone.run(() =&gt; &#123;    app.bootstrap(AppComponent, &#x27;#myApp&#x27;);  &#125;);&#125;)\n\nAt the end, here’s everything in a nutshell:\n\n\nEnjoy hacking, until they support this with a one-liner.\n","dateCreated":"2018-05-14T23:50:39-07:00","dateModified":"2025-09-01T15:26:51-07:00","datePublished":"2018-05-14T23:50:39-07:00","description":"This works for Angular 4-6 so far.\n\n\n\nIf you have ever used Angular 1.x, you know there's a manual bootstrapping\noption which looks like:\n1angular.bootstrap(document.querySelector(&#x27;#myApp&#x27;), [&#x27;myModule&#x27;])`\nThis used to be pretty handy until Angular 2 comes in and changes the life.\nFor some reason they decide to hide that option and ask people to just use\n`bootstrap` in `@NgModule`.\n\nI get that because for general users this is good enough,especially if you are just building a general SPA.However if you want to build something advanced like lazy loading,or conditional rendering, then this seems a bit naive.\nThis is especially annoying when in React its counterpart is as simple as\n1234ReactDOM.render(       &lt;MyApp /&gt;,  document.querySelector(&#x27;#myApp&#x27;));\n\nThis alone won’t drive people away from Angular but it’s just one of the examplesthat shows Angular wants to force people into its model rather than thinking aboutuse cases in the real world.\nAlright enough whining and let’s get to coding. After all, Angular seems excellentespecially it covers everything from development, testing, and packaging out of the box.Let’s leave whining till next time.","headline":"Angular 4+ Custom Bootstrapping: Lazy Bind to Designated Container","image":[],"mainEntityOfPage":{"@type":"WebPage","@id":"https://xunnanxu.github.io/2018/05/14/Angular-4-Custom-Bootstrapping-Lazy-Bind-to-Designated-Container/"},"publisher":{"@type":"Organization","name":"Shawn Xu","sameAs":["https://github.com/xunnanxu"],"image":"https://miro.medium.com/fit/c/90/90/1*7cPXDgvy2_tKMHR4SEd-yQ.jpeg","logo":{"@type":"ImageObject","url":"https://miro.medium.com/fit/c/90/90/1*7cPXDgvy2_tKMHR4SEd-yQ.jpeg"}},"url":"https://xunnanxu.github.io/2018/05/14/Angular-4-Custom-Bootstrapping-Lazy-Bind-to-Designated-Container/","keywords":"angular"}</script>
    <meta name="description" content="This works for Angular 4-6 so far.    If you have ever used Angular 1.x, you know there&#39;s a manual bootstrapping option which looks like: 1angular.bootstrap(document.querySelector(&#x27;#myApp&#x27;),">
<meta property="og:type" content="blog">
<meta property="og:title" content="Angular 4+ Custom Bootstrapping: Lazy Bind to Designated Container">
<meta property="og:url" content="https://xunnanxu.github.io/2018/05/14/Angular-4-Custom-Bootstrapping-Lazy-Bind-to-Designated-Container/index.html">
<meta property="og:site_name" content="Shawn&#39;s Pitstop">
<meta property="og:description" content="This works for Angular 4-6 so far.    If you have ever used Angular 1.x, you know there&#39;s a manual bootstrapping option which looks like: 1angular.bootstrap(document.querySelector(&#x27;#myApp&#x27;),">
<meta property="og:locale" content="en_US">
<meta property="og:image" content="http://www.memes.at/faces/are_you_fucking_kidding_me.jpg">
<meta property="og:image" content="http://www.memes.at/faces/desk_flip.jpg">
<meta property="article:published_time" content="2018-05-15T06:50:39.000Z">
<meta property="article:modified_time" content="2025-09-01T22:26:51.285Z">
<meta property="article:author" content="Shawn Xu">
<meta property="article:tag" content="angular">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="http://www.memes.at/faces/are_you_fucking_kidding_me.jpg">
    
    
        
    
    
        <meta property="og:image" content="https://miro.medium.com/fit/c/90/90/1*7cPXDgvy2_tKMHR4SEd-yQ.jpeg"/>
    
    
    
    
    <!--STYLES-->
    
<link rel="stylesheet" href="/assets/css/style-yvywglw62lgxwz25dsjvepo05oagkygdd7st7xfdzhmmxwqoijtiy3ngabtp.min.css">

    <!--STYLES END-->
    
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-83953865-1"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());

        gtag('config', 'UA-83953865-1');
    </script>


    

    
        
    
</head>

    <body>
        <div id="blog">
            <!-- Define author's picture -->


    
        
            
        
    

<header id="header" data-behavior="4">
    <i id="btn-open-sidebar" class="fa fa-lg fa-bars"></i>
    <div class="header-title">
        <a
            class="header-title-link"
            href="/%20"
            aria-label=""
        >
            Shawn&#39;s Pitstop
        </a>
    </div>
    
        
            <a
                class="header-right-picture "
                href="#about"
                aria-label="Open the link: /#about"
            >
        
        
            <img class="header-picture" src="https://miro.medium.com/fit/c/90/90/1*7cPXDgvy2_tKMHR4SEd-yQ.jpeg" alt="Author&#39;s picture"/>
        
        </a>
    
</header>

            <!-- Define author's picture -->



        
    

<nav id="sidebar" data-behavior="4">
    <div class="sidebar-container">
        
            <div class="sidebar-profile">
                <a
                    href="/#about"
                    aria-label="Read more about the author"
                >
                    <img class="sidebar-profile-picture" src="https://miro.medium.com/fit/c/90/90/1*7cPXDgvy2_tKMHR4SEd-yQ.jpeg" alt="Author&#39;s picture"/>
                </a>
                <h4 class="sidebar-profile-name">Shawn Xu</h4>
                
                    <h5 class="sidebar-profile-bio"><p>Software Engineer in Bay Area</p>
</h5>
                
            </div>
        
        
            <ul class="sidebar-buttons">
            
                <li class="sidebar-button">
                    
                        <a
                            class="sidebar-button-link "
                            href="/"
                            
                            rel="noopener"
                            title="Home"
                        >
                        <i class="sidebar-button-icon fa fa-home" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">Home</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a
                            class="sidebar-button-link "
                            href="/all-categories"
                            
                            rel="noopener"
                            title="Categories"
                        >
                        <i class="sidebar-button-icon fa fa-bookmark" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">Categories</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a
                            class="sidebar-button-link "
                            href="/all-tags"
                            
                            rel="noopener"
                            title="Tags"
                        >
                        <i class="sidebar-button-icon fa fa-tags" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">Tags</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a
                            class="sidebar-button-link "
                            href="/all-archives"
                            
                            rel="noopener"
                            title="Archives"
                        >
                        <i class="sidebar-button-icon fa fa-archive" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">Archives</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a
                            class="sidebar-button-link "
                            href="#about"
                            
                            rel="noopener"
                            title="About"
                        >
                        <i class="sidebar-button-icon fa fa-question" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">About</span>
                    </a>
            </li>
            
        </ul>
        
            <ul class="sidebar-buttons">
            
                <li class="sidebar-button">
                    
                        <a
                            class="sidebar-button-link "
                            href="https://github.com/xunnanxu"
                            
                                target="_blank"
                            
                            rel="noopener"
                            title="GitHub"
                        >
                        <i class="sidebar-button-icon fab fa-github" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">GitHub</span>
                    </a>
            </li>
            
        </ul>
        
            <ul class="sidebar-buttons">
            
                <li class="sidebar-button">
                    
                        <a
                            class="sidebar-button-link "
                            href="/atom.xml"
                            
                            rel="noopener"
                            title="RSS"
                        >
                        <i class="sidebar-button-icon fa fa-rss" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">RSS</span>
                    </a>
            </li>
            
        </ul>
        
    </div>
</nav>

            
            <div id="main" data-behavior="4"
                 class="
                        hasCoverMetaIn
                        ">
                
<article class="post">
    
    
        <div class="post-header main-content-wrap text-left">
    
        <h1 class="post-title">
            Angular 4+ Custom Bootstrapping: Lazy Bind to Designated Container
        </h1>
    
    
        <div class="post-meta">
    <time datetime="2018-05-14T23:50:39-07:00">
	
		    May 14, 2018
    	
    </time>
    
        <span>in </span>
        
    <a class="category-link" href="/categories/Frontend/">Frontend</a>


    
</div>

    
</div>

    
    <div class="post-content markdown">
        <div class="main-content-wrap">
            <div class="alert info no-icon"><p>This works for Angular 4-6 so far.</p>
</div>

<br>
If you have ever used Angular 1.x, you know there's a manual bootstrapping
option which looks like:
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">angular.<span class="title function_">bootstrap</span>(<span class="variable language_">document</span>.<span class="title function_">querySelector</span>(<span class="string">&#x27;#myApp&#x27;</span>), [<span class="string">&#x27;myModule&#x27;</span>])<span class="string">`</span></span><br></pre></td></tr></table></figure>
This used to be pretty handy until Angular 2 comes in and changes the life.
For some reason they decide to hide that option and ask people to just use
`bootstrap` in `@NgModule`.

<p>I get that because for general users this is good enough,<br>especially if you are just building a general SPA.<br>However if you want to build something advanced like lazy loading,<br>or conditional rendering, then this seems a bit naive.</p>
<p>This is especially annoying when in React its counterpart is as simple as</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="title class_">ReactDOM</span>.<span class="title function_">render</span>(     </span><br><span class="line">  <span class="language-xml"><span class="tag">&lt;<span class="name">MyApp</span> /&gt;</span></span>,</span><br><span class="line">  <span class="variable language_">document</span>.<span class="title function_">querySelector</span>(<span class="string">&#x27;#myApp&#x27;</span>)</span><br><span class="line">);</span><br></pre></td></tr></table></figure>

<p>This alone won’t drive people away from Angular but it’s just one of the examples<br>that shows Angular wants to force people into its model rather than thinking about<br>use cases in the real world.</p>
<p>Alright enough whining and let’s get to coding. After all, Angular seems excellent<br>especially it covers everything from development, testing, and packaging out of the box.<br>Let’s leave whining till next time.</p>
<span id="more"></span>

<p>I’ll create a simple stackblitz app like this:</p>
<iframe style="border:none" width="100%" height="400px" src="https://stackblitz.com/edit/angular-qrrjaz?embed=1&file=src/app/app.component.ts"></iframe>

<p>It’s pretty simple. The module tells Angular to bootstrap <code>AppComponent</code>,<br>which looks for an element with tag <code>&lt;my-app&gt;</code>. After that it loads the<br><code>HelloComponent</code> which renders the <code>greeting</code> message from input.<br>The button in <code>AppComponent</code> will switch the message to <code>it works</code> once clicked.</p>
<p>But what if we want to lazy load it into a div <code>#myApp</code> then?</p>
<p>Looking at the document, it is not mentioned. However, if we carefully read it, we’ll<br>see there’s <a href="https://angular.io/guide/entry-components#a-bootstrapped-entry-component">something that reads</a>:</p>
<blockquote>
<p>A component can also be bootstrapped imperatively in the module’s ngDoBootstrap() method. The @NgModule.bootstrap property tells the compiler that this is an entry component and it should generate code to bootstrap the application with this component.</p>
</blockquote>
<p>And there’s another chunk on that page that reads:</p>
<blockquote>
<p>Though the @NgModule decorator has an entryComponents array, most of the time you won’t have to explicitly set any entry components because Angular adds components listed in @NgModule.bootstrap and those in route definitions to entry components automatically. Though these two mechanisms account for most entry components, if your app happens to bootstrap or dynamically load a component by type imperatively, you must add it to entryComponents explicitly.</p>
</blockquote>
<p>And we are like:</p>
<img src="http://www.memes.at/faces/are_you_fucking_kidding_me.jpg" alt="Are you fucking kidding me" style="width:200px">

<p>Wait there’s another chunk on the <a href="https://angular.io/guide/bootstrapping">bootstrapping page</a>:</p>
<blockquote>
<p>The application launches by bootstrapping the root AppModule, which is also referred to as an entryComponent. Among other things, the bootstrapping process creates the component(s) listed in the bootstrap array and inserts each one into the browser DOM.</p>
</blockquote>
<p>Ok I get that. But still, WTF does that mean?</p>
<img src="http://www.memes.at/faces/desk_flip.jpg" alt="Desk flip" style="width:200px">

<p>Never mind. I figured out through reading <del>document</del> source code. After all, some say,<br>documentation is for the weak.</p>
<h2 id="And-here-are-the-steps-finally"><a href="#And-here-are-the-steps-finally" class="headerlink" title="And here are the steps (finally)"></a>And here are the steps (finally)</h2><p>First of all, replace <code>bootstrap</code> with <code>entryComponents</code> in <code>@NgModule</code>.<br>This will tell Angular not to preemptively initialize everything.<br>In addition to that, the <code>entryComponents</code> param will tell angular to prepare<br>all <code>ComponentFactory</code> instances and load them into app’s <code>ComponentFactoryResolver</code>.<br>And if you re-read the document you’ll see what it means.</p>
<p>So our example app now looks like this:</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">@<span class="title class_">NgModule</span>(&#123;</span><br><span class="line">  <span class="attr">imports</span>:      [ <span class="title class_">BrowserModule</span>, <span class="title class_">FormsModule</span> ],</span><br><span class="line">  <span class="attr">declarations</span>: [ <span class="title class_">AppComponent</span>, <span class="title class_">HelloComponent</span> ],</span><br><span class="line">  <span class="attr">entryComponents</span>: [ <span class="title class_">AppComponent</span> ]</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<p>Next, override the <code>ngDoBootstrap()</code> with an empty body.<br>This will prevent default bootstrapping action when <code>bootstrapModule()</code> is called<br>in <code>main.ts</code> file.</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="keyword">class</span> <span class="title class_">AppModule</span> &#123;</span><br><span class="line">  public <span class="title function_">ngDoBootstrap</span>(<span class="params">appRef: ApplicationRef</span>) &#123;</span><br><span class="line"></span><br><span class="line">  &#125; </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>Alright now we go back to the <code>main.ts</code> file to perform the core magic.</p>
<p>The source code (thanks to TypeScript) tells us that<br><code>platformBrowserDynamic().bootstrapModule(AppModule)</code><br>returns a <code>NgModuleRef</code>.</p>
<p>In <code>NgModuleRef</code> we can grab the <code>injector</code>. As we all know, angular is all about<br>dependency injection. So we can call <code>bootstrap</code> here then and in newer version of<br>Angular, that would take an <code>rootSelectorOrNode</code>.</p>
<p>Great so let’s do:</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="title function_">platformBrowserDynamic</span>().<span class="title function_">bootstrapModule</span>(<span class="title class_">AppModule</span>)</span><br><span class="line">  .<span class="title function_">then</span>(<span class="function">(<span class="params">moduleRef: NgModuleRef&lt;AppModule&gt;</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">const</span> <span class="attr">app</span>: <span class="title class_">ApplicationRef</span> = moduleRef.<span class="property">injector</span>.<span class="title function_">get</span>(<span class="title class_">ApplicationRef</span>);</span><br><span class="line">    app.<span class="title function_">bootstrap</span>(<span class="title class_">AppComponent</span>, <span class="string">&#x27;#myApp&#x27;</span>);</span><br><span class="line">  &#125;)</span><br></pre></td></tr></table></figure>

<p>After this our app would boot, but nothing happens if you click on “Knock knock”.</p>
<p>WTF?</p>
<p>In Angular 2+, there’s the magic of <code>ngZone</code>. You can read more about it in their<br><a href="https://github.com/angular/zone.js/">zone.js repo</a>. In short, it provides an<br>“isolated” execution context in which it hijacks the regular DOM methods to provide<br>feedback loop for Angular to handle events more performantly. So inside Angular zone,<br>your click is no longer a plain one but enhanced with magic to tell Angular something<br>has happened.</p>
<p>So how do we get the <code>ngZone</code> then? Remeber we have the omnipotent <code>injector</code> so we<br>can do</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">.<span class="title function_">then</span>(<span class="function">(<span class="params">moduleRef: NgModuleRef&lt;AppModule&gt;</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">const</span> <span class="attr">app</span>: <span class="title class_">ApplicationRef</span> = moduleRef.<span class="property">injector</span>.<span class="title function_">get</span>(<span class="title class_">ApplicationRef</span>);</span><br><span class="line">  <span class="keyword">const</span> <span class="attr">ngZone</span>: <span class="title class_">NgZone</span> = moduleRef.<span class="property">injector</span>.<span class="title function_">get</span>(<span class="title class_">NgZone</span>);</span><br><span class="line">  ngZone.<span class="title function_">run</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">    app.<span class="title function_">bootstrap</span>(<span class="title class_">AppComponent</span>, <span class="string">&#x27;#myApp&#x27;</span>);</span><br><span class="line">  &#125;);</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<p>At the end, here’s everything in a nutshell:</p>
<iframe style="border:none" width="100%" height="400px" src="https://stackblitz.com/edit/angular-1cnxy4?embed=1&ctl=1&file=src/app/app.module.ts"></iframe>

<p>Enjoy hacking, until they support this with a one-liner.</p>

            


        </div>
    </div>
    <div id="post-footer" class="post-footer main-content-wrap">
        
            <div class="post-footer-tags">
                <span class="text-color-light text-small">TAGGED IN</span><br/>
                
    <a class="tag tag--primary tag--small t-none-link" href="/tags/angular/" rel="tag">angular</a>

            </div>
        
        
            <div class="post-actions-wrap">
    <nav>
        <ul class="post-actions post-action-nav">
            <li class="post-action">
                
                    
                <a
                    class="post-action-btn btn btn--default tooltip--top"
                    href="/2018/11/25/Monitor-gRPC-Microservices-in-Kubernetes-with-Amazon-X-Ray/"
                    data-tooltip="Monitor gRPC Microservices in Kubernetes with Amazon X-Ray"
                    aria-label="PREVIOUS: Monitor gRPC Microservices in Kubernetes with Amazon X-Ray"
                >
                    
                        <i class="fa fa-angle-left" aria-hidden="true"></i>
                        <span class="hide-xs hide-sm text-small icon-ml">PREVIOUS</span>
                    </a>
            </li>
            <li class="post-action">
                
                    
                <a
                    class="post-action-btn btn btn--default tooltip--top"
                    href="/2018/05/13/Building-Linux-Workspace-on-Windows-10-via-WSL/"
                    data-tooltip="Building Linux Workspace on Windows 10 via WSL"
                    aria-label="NEXT: Building Linux Workspace on Windows 10 via WSL"
                >
                    
                        <span class="hide-xs hide-sm text-small icon-mr">NEXT</span>
                        <i class="fa fa-angle-right" aria-hidden="true"></i>
                    </a>
            </li>
        </ul>
    </nav>
    <ul class="post-actions post-action-share">
        <li class="post-action hide-lg hide-md hide-sm">
            <a
                class="post-action-btn btn btn--default btn-open-shareoptions"
                href="#btn-open-shareoptions"
                aria-label="Share this post"
            >
                <i class="fa fa-share-alt" aria-hidden="true"></i>
            </a>
        </li>
        
            
            
            <li class="post-action hide-xs">
                <a
                    class="post-action-btn btn btn--default"
                    target="new" href="https://www.facebook.com/sharer/sharer.php?u=https://xunnanxu.github.io/2018/05/14/Angular-4-Custom-Bootstrapping-Lazy-Bind-to-Designated-Container/"
                    title="Share on Facebook"
                    aria-label="Share on Facebook"
                >
                    <i class="fab fa-facebook" aria-hidden="true"></i>
                </a>
            </li>
        
            
            
            <li class="post-action hide-xs">
                <a
                    class="post-action-btn btn btn--default"
                    target="new" href="https://twitter.com/intent/tweet?text=https://xunnanxu.github.io/2018/05/14/Angular-4-Custom-Bootstrapping-Lazy-Bind-to-Designated-Container/"
                    title="Share on Twitter"
                    aria-label="Share on Twitter"
                >
                    <i class="fab fa-twitter" aria-hidden="true"></i>
                </a>
            </li>
        
            
            
            <li class="post-action hide-xs">
                <a
                    class="post-action-btn btn btn--default"
                    target="new" href="https://www.linkedin.com/shareArticle?mini=true&amp;url=https://xunnanxu.github.io/2018/05/14/Angular-4-Custom-Bootstrapping-Lazy-Bind-to-Designated-Container/"
                    title="global.share_on_linkedin"
                    aria-label="global.share_on_linkedin"
                >
                    <i class="fab fa-linkedin" aria-hidden="true"></i>
                </a>
            </li>
        
        
            
                <li class="post-action">
                    <a
                        class="post-action-btn btn btn--default"
                        href="#disqus_thread"
                        aria-label="Leave a comment"
                    >
                        <i class="fa fa-comment"></i>
                    </a>
                </li>
            
        
        <li class="post-action">
            
                <a class="post-action-btn btn btn--default" href="#" aria-label="Back to top">
            
                <i class="fa fa-list" aria-hidden="true"></i>
            </a>
        </li>
    </ul>
</div>


        
        
            
                <div id="disqus_thread">
    <noscript>Please enable JavaScript to view the <a href="//disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
</div>
            
        
    </div>
</article>



                <footer id="footer" class="main-content-wrap">
    <span class="copyrights">
        Copyrights &copy; 2025 Shawn Xu. All Rights Reserved.
    </span>
</footer>

            </div>
            
                <div id="bottom-bar" class="post-bottom-bar" data-behavior="4">
                    <div class="post-actions-wrap">
    <nav>
        <ul class="post-actions post-action-nav">
            <li class="post-action">
                
                    
                <a
                    class="post-action-btn btn btn--default tooltip--top"
                    href="/2018/11/25/Monitor-gRPC-Microservices-in-Kubernetes-with-Amazon-X-Ray/"
                    data-tooltip="Monitor gRPC Microservices in Kubernetes with Amazon X-Ray"
                    aria-label="PREVIOUS: Monitor gRPC Microservices in Kubernetes with Amazon X-Ray"
                >
                    
                        <i class="fa fa-angle-left" aria-hidden="true"></i>
                        <span class="hide-xs hide-sm text-small icon-ml">PREVIOUS</span>
                    </a>
            </li>
            <li class="post-action">
                
                    
                <a
                    class="post-action-btn btn btn--default tooltip--top"
                    href="/2018/05/13/Building-Linux-Workspace-on-Windows-10-via-WSL/"
                    data-tooltip="Building Linux Workspace on Windows 10 via WSL"
                    aria-label="NEXT: Building Linux Workspace on Windows 10 via WSL"
                >
                    
                        <span class="hide-xs hide-sm text-small icon-mr">NEXT</span>
                        <i class="fa fa-angle-right" aria-hidden="true"></i>
                    </a>
            </li>
        </ul>
    </nav>
    <ul class="post-actions post-action-share">
        <li class="post-action hide-lg hide-md hide-sm">
            <a
                class="post-action-btn btn btn--default btn-open-shareoptions"
                href="#btn-open-shareoptions"
                aria-label="Share this post"
            >
                <i class="fa fa-share-alt" aria-hidden="true"></i>
            </a>
        </li>
        
            
            
            <li class="post-action hide-xs">
                <a
                    class="post-action-btn btn btn--default"
                    target="new" href="https://www.facebook.com/sharer/sharer.php?u=https://xunnanxu.github.io/2018/05/14/Angular-4-Custom-Bootstrapping-Lazy-Bind-to-Designated-Container/"
                    title="Share on Facebook"
                    aria-label="Share on Facebook"
                >
                    <i class="fab fa-facebook" aria-hidden="true"></i>
                </a>
            </li>
        
            
            
            <li class="post-action hide-xs">
                <a
                    class="post-action-btn btn btn--default"
                    target="new" href="https://twitter.com/intent/tweet?text=https://xunnanxu.github.io/2018/05/14/Angular-4-Custom-Bootstrapping-Lazy-Bind-to-Designated-Container/"
                    title="Share on Twitter"
                    aria-label="Share on Twitter"
                >
                    <i class="fab fa-twitter" aria-hidden="true"></i>
                </a>
            </li>
        
            
            
            <li class="post-action hide-xs">
                <a
                    class="post-action-btn btn btn--default"
                    target="new" href="https://www.linkedin.com/shareArticle?mini=true&amp;url=https://xunnanxu.github.io/2018/05/14/Angular-4-Custom-Bootstrapping-Lazy-Bind-to-Designated-Container/"
                    title="global.share_on_linkedin"
                    aria-label="global.share_on_linkedin"
                >
                    <i class="fab fa-linkedin" aria-hidden="true"></i>
                </a>
            </li>
        
        
            
                <li class="post-action">
                    <a
                        class="post-action-btn btn btn--default"
                        href="#disqus_thread"
                        aria-label="Leave a comment"
                    >
                        <i class="fa fa-comment"></i>
                    </a>
                </li>
            
        
        <li class="post-action">
            
                <a class="post-action-btn btn btn--default" href="#" aria-label="Back to top">
            
                <i class="fa fa-list" aria-hidden="true"></i>
            </a>
        </li>
    </ul>
</div>


                </div>
                
    <div id="share-options-bar" class="share-options-bar" data-behavior="4">
        <i id="btn-close-shareoptions" class="fa fa-times"></i>
        <ul class="share-options">
            
                
                
                <li class="share-option">
                    <a
                        class="share-option-btn"
                        target="new"
                        href="https://www.facebook.com/sharer/sharer.php?u=https://xunnanxu.github.io/2018/05/14/Angular-4-Custom-Bootstrapping-Lazy-Bind-to-Designated-Container/"
                        aria-label="Share on Facebook"
                    >
                        <i class="fab fa-facebook" aria-hidden="true"></i><span>Share on Facebook</span>
                    </a>
                </li>
            
                
                
                <li class="share-option">
                    <a
                        class="share-option-btn"
                        target="new"
                        href="https://twitter.com/intent/tweet?text=https://xunnanxu.github.io/2018/05/14/Angular-4-Custom-Bootstrapping-Lazy-Bind-to-Designated-Container/"
                        aria-label="Share on Twitter"
                    >
                        <i class="fab fa-twitter" aria-hidden="true"></i><span>Share on Twitter</span>
                    </a>
                </li>
            
                
                
                <li class="share-option">
                    <a
                        class="share-option-btn"
                        target="new"
                        href="https://www.linkedin.com/shareArticle?mini=true&amp;url=https://xunnanxu.github.io/2018/05/14/Angular-4-Custom-Bootstrapping-Lazy-Bind-to-Designated-Container/"
                        aria-label="global.share_on_linkedin"
                    >
                        <i class="fab fa-linkedin" aria-hidden="true"></i><span>global.share_on_linkedin</span>
                    </a>
                </li>
            
        </ul>
    </div>


            
        </div>
        


    
        
    

<div id="about">
    <div id="about-card">
        <div id="about-btn-close">
            <i class="fa fa-times"></i>
        </div>
        
            <img id="about-card-picture" src="https://miro.medium.com/fit/c/90/90/1*7cPXDgvy2_tKMHR4SEd-yQ.jpeg" alt="Author&#39;s picture"/>
        
            <h4 id="about-card-name">Shawn Xu</h4>
        
            <div id="about-card-bio"><p>Software Engineer in Bay Area</p>
</div>
        
        
            <div id="about-card-job">
                <i class="fa fa-briefcase"></i>
                <br/>
                <p>author.job</p>

            </div>
        
        
    </div>
</div>

        
        
<div id="cover" style="background-image:url('/assets/images/cover.jpg');"></div>
        <!--SCRIPTS-->

<script src="/assets/js/script-a5wszscostah6olx2wgfq7mglfmluysmmlvnxgmmszk3gwouxhlbwbsk0xkf.min.js"></script>

<!--SCRIPTS END-->


    
        <script>
          var disqus_config = function() {
            this.page.url = 'https://xunnanxu.github.io/2018/05/14/Angular-4-Custom-Bootstrapping-Lazy-Bind-to-Designated-Container/';
              
            this.page.identifier = '2018/05/14/Angular-4-Custom-Bootstrapping-Lazy-Bind-to-Designated-Container/';
              
          };
          (function() {
            var d = document, s = d.createElement('script');
            var disqus_shortname = 'xcorpion';
            s.src = '//' + disqus_shortname + '.disqus.com/embed.js';

            s.setAttribute('data-timestamp', +new Date());
            (d.head || d.body).appendChild(s);
          })();
        </script>
    




    </body>
</html>
