
<!DOCTYPE html>
<html lang="en">
    
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="generator" content="Shawn&#39;s Pitstop">
    <title>Building Linux Workspace on Windows 10 via WSL - Shawn&#39;s Pitstop</title>
    <meta name="author" content="Shawn Xu">
    
    
    
        
            <link rel="alternate" type="application/rss+xml" title="RSS" href="/rss2.xml">
        
    
    <script type="application/ld+json">{"@context":"http://schema.org","@type":"BlogPosting","author":{"@type":"Person","name":"Shawn Xu","sameAs":["https://github.com/xunnanxu"],"image":"https://miro.medium.com/fit/c/90/90/1*7cPXDgvy2_tKMHR4SEd-yQ.jpeg"},"articleBody":"\n\nI was not really a fan of Windows 10,let alone Microsoft decided to ditch the most important feature I liked in Windows 7 - Aero.In fact, I’d admit that in most cases I use Windows as an entertainment systemrather than a working platform.\nDon’t get me wrong, Windows is great, both in terms of the quality of the softwareand the design/usability of the system by itself. It’s also particularly great of you area .NET developer, a webmaster using IIS, or a game developer heavily using DirectX.However, it’s just cumbersome to use it as a daily OSS platform, namely there lacks thegeneral ecosystem and the tools are just different. Yes you can install node, java, maven,gradle, and you can probably use powershell to write shell scripts, but at the end of the day,the overall configuration just feels different and since most people don’t use Windowsfor work on a day-to-day basis, it just takes too much time and effort to learn a set ofrules with different flavor, just to get the environment set up.\nHowever, things have changed.\nThe release of WSL (Windows Subsystem on Linux) in Windows 10 was like silent bomb.It wasn’t really marketed to general public, but it implies the fundamentalchange of attitude from Microsoft towards OSS community.\nWSL is not a virtual machine. In fact there’s no real linux kernel running.Instead, there is a layer in between that translates linux system calls tosomething that windows kernel can handle. Technically, this is seriously phenomenal,as there’s certain things that there’s no direct equivalent in Windows.\nFor example:\nQuoted from MSDN blog\n\nThe Linux fork syscall has no documented equivalent for Windows.When a fork syscall is made on WSL, lxss.sys does some of the initial workto prepare for copying the process.It then calls internal NT APIs to create the process with the correct semanticsand create a thread in the process with an identical register context.Finally, it does some additional work to complete copying the processand resumes the new process so it can begin executing.\n\nAnd another one regarding WSL file system:\n\nThe Windows Subsystem for Linux must translate various Linux file system operationsinto NT kernel operations. WSL must provide a place where Linux system files can existwith all the functionality required for that including Linux permissions,symbolic links and other special files such as FIFOs;it must provide access to the Windows volumes on your system;and it must provide special file systems such as ProcFs.\n\nAnd now it even supports interopafter the Fall Creators update. This means if you type in notepad.exe,it would literally open notepad for you. Not very exciting but beyond that you coulddo\n12345# copy stuff to clipboardecho &#x27;foo bar&#x27; | clip.exe# open a file in windows using default associated programcmd.exe /C start image.png\n\nAwesome, but what’s our original topic?\n\n\nEnable WSLOk, to use WSL, you’d need to enable it first.\n// Make sure you are using Windows 10 :)\nIf you are running windows earlier than 1709, the setup would be like this:\n\nPress Windows key. Type in “Turn windows features on or off” and click on the option that shows up.\n\nTurn on WSL\n \n\nReboot system. You will now have “Bash on Ubuntu on Windows” in your Start Menu.\n\n\nIf you are running version &gt;= 1709, just search for “Ubuntu”or other available distributions like “Debian” or “OpenSUSE” in Microsoft Store.\nThrow Away CmdThe long lived cmd.exe in windows is not something people would generally like.\nIf you want to have something close to iTerm2 on Mac or Yakuake on KDE,you can try ConEmu (see title image).\nConEmu allows for creating tabs (Win + Shift + W),and splitting windows (Ctrl + Shift + O/E). Alternatively you can use tmux.\nI personally enable the Quake style which allows me to hit Ctrl + ~ to bring it down.\nConEmu does not seem to have start up with Windows option but you can get around thatby putting the shortcut into Startup folder in Start Menu and set the initial windowoption to be “Minimized”.\nBasic SetupUpgrade Packages1234$ sudo apt -y update$ sudo apt -y upgrade$ sudo apt -y dist-upgrade$ sudo apt -y autoremove\n\nChange to Favorite ShellBy default most distributions would use bash.\nIf you want to use zsh or other shell:\n1$ sudo chsh --shell /bin/zsh &lt;username&gt;\n\nor if you want to install oh-my-zsh:\n1$ sh -c &quot;$(curl -fsSL https://raw.githubusercontent.com/robbyrussell/oh-my-zsh/master/tools/install.sh)&quot;\n\nMount Network DrivesUbuntu on windows should have mounted all local disks for you under /mnt.In case you need to mount a network drive like NAS:\n1$ sudo mount -t drvfs Z: /mnt/z\n\nSome Advanced Tweaks You Might WantDisabling bellBy default you’ll hear an annoying “dang” every time you tab complete.That is associated with the “Critical Stop” sound config in windows.To stop it is shell specific but generally:\nFor bash, put this into .bashrc\n1set bell-style none\n\nFor zsh, this works for me in .zshrc\n1unsetopt beep\n\nStop Windows From Sharing PATHBy default Windows would copy PATH variables to WSL. This could be quite annoyingif you use tools like pyenv, rvm or nvm and you also have python, ruby, or node installedin Windows as typically the stuff from Windows will take priority.\nTo fix that you can create a DWORD AppendNtPath underHKEY_CURRENT_USER\\Software\\Microsoft\\Windows\\CurrentVersion\\Lxss and set the value to 0.\nUpdate: The above trick seems to only work for legacy WSL (aka Bash on Ubuntu on Windows).For new users, create a DWORD DistributionFlags with value fffffffd under HKEY_LOCAL_MACHINE\\SYSTEM\\CurrentControlSet\\Services\\LxssManager.Then go to Services and restart the LxssManager service.\nThis is undocumented but described in WSL#2048.\nAllow Linux to Open File Using Preferred Application in WindowsThis is quite useful if you just want to say check an image as WSL is not shipped with a desktop.By default the xdg-open binary can be used in linux but WSL is not shipped with that either.\nLuckily as WSL supports interop, there’s a trick:\n\nCreate a file /usr/bin/xdg-open with content\n 12#!/usr/bin/env sh/mnt/c/Windows/System32/cmd.exe /C start &quot;$1&quot;\n\nMake it executable:\n 1$ sudo chmod +x /usr/bin/xdg-open\n\nUse it:\n 1$ xdg-open a.png\n\n\n\nCall VSCode from LinuxYou can technically get everything done with vi, but sometimes it’s easier to just use a GUI.\nFor VSCode Mac version there’s an option to install it to terminal, but it just doesn’t exist in Windows.\nBut with WSL interop, just put this in shell rc file:\n1alias code /mnt/c/Program\\ Files/Microsoft\\ VS\\ Code/Code.exe\n\nTo use it:\n1$ code path/to/my/file\n\nInstall Python/Node/RubyI use pyenv and it’s the same as if you are in normal linux:\n123$ curl -L https://github.com/pyenv/pyenv-installer/raw/master/bin/pyenv-installer | zshpyenv install 3.6.5pyenv shell 3.6.5\n\nSimilar solution can be used for node and ruby using nvm and rvm respectively.\n","dateCreated":"2018-05-13T15:35:46-07:00","dateModified":"2025-09-01T15:26:51-07:00","datePublished":"2018-05-13T15:35:46-07:00","description":"\n\nI was not really a fan of Windows 10,let alone Microsoft decided to ditch the most important feature I liked in Windows 7 - Aero.In fact, I’d admit that in most cases I use Windows as an entertainment systemrather than a working platform.\nDon’t get me wrong, Windows is great, both in terms of the quality of the softwareand the design/usability of the system by itself. It’s also particularly great of you area .NET developer, a webmaster using IIS, or a game developer heavily using DirectX.However, it’s just cumbersome to use it as a daily OSS platform, namely there lacks thegeneral ecosystem and the tools are just different. Yes you can install node, java, maven,gradle, and you can probably use powershell to write shell scripts, but at the end of the day,the overall configuration just feels different and since most people don’t use Windowsfor work on a day-to-day basis, it just takes too much time and effort to learn a set ofrules with different flavor, just to get the environment set up.\nHowever, things have changed.\nThe release of WSL (Windows Subsystem on Linux) in Windows 10 was like silent bomb.It wasn’t really marketed to general public, but it implies the fundamentalchange of attitude from Microsoft towards OSS community.\nWSL is not a virtual machine. In fact there’s no real linux kernel running.Instead, there is a layer in between that translates linux system calls tosomething that windows kernel can handle. Technically, this is seriously phenomenal,as there’s certain things that there’s no direct equivalent in Windows.\nFor example:\nQuoted from MSDN blog\n\nThe Linux fork syscall has no documented equivalent for Windows.When a fork syscall is made on WSL, lxss.sys does some of the initial workto prepare for copying the process.It then calls internal NT APIs to create the process with the correct semanticsand create a thread in the process with an identical register context.Finally, it does some additional work to complete copying the processand resumes the new process so it can begin executing.\n\nAnd another one regarding WSL file system:\n\nThe Windows Subsystem for Linux must translate various Linux file system operationsinto NT kernel operations. WSL must provide a place where Linux system files can existwith all the functionality required for that including Linux permissions,symbolic links and other special files such as FIFOs;it must provide access to the Windows volumes on your system;and it must provide special file systems such as ProcFs.\n\nAnd now it even supports interopafter the Fall Creators update. This means if you type in notepad.exe,it would literally open notepad for you. Not very exciting but beyond that you coulddo\n12345# copy stuff to clipboardecho &#x27;foo bar&#x27; | clip.exe# open a file in windows using default associated programcmd.exe /C start image.png\n\nAwesome, but what’s our original topic?","headline":"Building Linux Workspace on Windows 10 via WSL","image":[],"mainEntityOfPage":{"@type":"WebPage","@id":"https://xunnanxu.github.io/2018/05/13/Building-Linux-Workspace-on-Windows-10-via-WSL/"},"publisher":{"@type":"Organization","name":"Shawn Xu","sameAs":["https://github.com/xunnanxu"],"image":"https://miro.medium.com/fit/c/90/90/1*7cPXDgvy2_tKMHR4SEd-yQ.jpeg","logo":{"@type":"ImageObject","url":"https://miro.medium.com/fit/c/90/90/1*7cPXDgvy2_tKMHR4SEd-yQ.jpeg"}},"url":"https://xunnanxu.github.io/2018/05/13/Building-Linux-Workspace-on-Windows-10-via-WSL/","keywords":"linux, windows, wsl"}</script>
    <meta name="description" content="I was not really a fan of Windows 10,let alone Microsoft decided to ditch the most important feature I liked in Windows 7 - Aero.In fact, I’d admit that in most cases I use Windows as an entertainme">
<meta property="og:type" content="blog">
<meta property="og:title" content="Building Linux Workspace on Windows 10 via WSL">
<meta property="og:url" content="https://xunnanxu.github.io/2018/05/13/Building-Linux-Workspace-on-Windows-10-via-WSL/index.html">
<meta property="og:site_name" content="Shawn&#39;s Pitstop">
<meta property="og:description" content="I was not really a fan of Windows 10,let alone Microsoft decided to ditch the most important feature I liked in Windows 7 - Aero.In fact, I’d admit that in most cases I use Windows as an entertainme">
<meta property="og:locale" content="en_US">
<meta property="og:image" content="https://xunnanxu.github.io/2018/05/13/Building-Linux-Workspace-on-Windows-10-via-WSL/title.png">
<meta property="og:image" content="https://xunnanxu.github.io/2018/05/13/Building-Linux-Workspace-on-Windows-10-via-WSL/WSL.png">
<meta property="article:published_time" content="2018-05-13T22:35:46.000Z">
<meta property="article:modified_time" content="2025-09-01T22:26:51.285Z">
<meta property="article:author" content="Shawn Xu">
<meta property="article:tag" content="linux">
<meta property="article:tag" content="windows">
<meta property="article:tag" content="wsl">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://xunnanxu.github.io/2018/05/13/Building-Linux-Workspace-on-Windows-10-via-WSL/title.png">
    
    
        
    
    
        <meta property="og:image" content="https://miro.medium.com/fit/c/90/90/1*7cPXDgvy2_tKMHR4SEd-yQ.jpeg"/>
    
    
    
    
    <!--STYLES-->
    
<link rel="stylesheet" href="/assets/css/style-yvywglw62lgxwz25dsjvepo05oagkygdd7st7xfdzhmmxwqoijtiy3ngabtp.min.css">

    <!--STYLES END-->
    
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-83953865-1"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());

        gtag('config', 'UA-83953865-1');
    </script>


    

    
        
    
</head>

    <body>
        <div id="blog">
            <!-- Define author's picture -->


    
        
            
        
    

<header id="header" data-behavior="4">
    <i id="btn-open-sidebar" class="fa fa-lg fa-bars"></i>
    <div class="header-title">
        <a
            class="header-title-link"
            href="/%20"
            aria-label=""
        >
            Shawn&#39;s Pitstop
        </a>
    </div>
    
        
            <a
                class="header-right-picture "
                href="#about"
                aria-label="Open the link: /#about"
            >
        
        
            <img class="header-picture" src="https://miro.medium.com/fit/c/90/90/1*7cPXDgvy2_tKMHR4SEd-yQ.jpeg" alt="Author&#39;s picture"/>
        
        </a>
    
</header>

            <!-- Define author's picture -->



        
    

<nav id="sidebar" data-behavior="4">
    <div class="sidebar-container">
        
            <div class="sidebar-profile">
                <a
                    href="/#about"
                    aria-label="Read more about the author"
                >
                    <img class="sidebar-profile-picture" src="https://miro.medium.com/fit/c/90/90/1*7cPXDgvy2_tKMHR4SEd-yQ.jpeg" alt="Author&#39;s picture"/>
                </a>
                <h4 class="sidebar-profile-name">Shawn Xu</h4>
                
                    <h5 class="sidebar-profile-bio"><p>Software Engineer in Bay Area</p>
</h5>
                
            </div>
        
        
            <ul class="sidebar-buttons">
            
                <li class="sidebar-button">
                    
                        <a
                            class="sidebar-button-link "
                            href="/"
                            
                            rel="noopener"
                            title="Home"
                        >
                        <i class="sidebar-button-icon fa fa-home" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">Home</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a
                            class="sidebar-button-link "
                            href="/all-categories"
                            
                            rel="noopener"
                            title="Categories"
                        >
                        <i class="sidebar-button-icon fa fa-bookmark" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">Categories</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a
                            class="sidebar-button-link "
                            href="/all-tags"
                            
                            rel="noopener"
                            title="Tags"
                        >
                        <i class="sidebar-button-icon fa fa-tags" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">Tags</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a
                            class="sidebar-button-link "
                            href="/all-archives"
                            
                            rel="noopener"
                            title="Archives"
                        >
                        <i class="sidebar-button-icon fa fa-archive" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">Archives</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a
                            class="sidebar-button-link "
                            href="#about"
                            
                            rel="noopener"
                            title="About"
                        >
                        <i class="sidebar-button-icon fa fa-question" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">About</span>
                    </a>
            </li>
            
        </ul>
        
            <ul class="sidebar-buttons">
            
                <li class="sidebar-button">
                    
                        <a
                            class="sidebar-button-link "
                            href="https://github.com/xunnanxu"
                            
                                target="_blank"
                            
                            rel="noopener"
                            title="GitHub"
                        >
                        <i class="sidebar-button-icon fab fa-github" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">GitHub</span>
                    </a>
            </li>
            
        </ul>
        
            <ul class="sidebar-buttons">
            
                <li class="sidebar-button">
                    
                        <a
                            class="sidebar-button-link "
                            href="/atom.xml"
                            
                            rel="noopener"
                            title="RSS"
                        >
                        <i class="sidebar-button-icon fa fa-rss" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">RSS</span>
                    </a>
            </li>
            
        </ul>
        
    </div>
</nav>

            
            <div id="main" data-behavior="4"
                 class="
                        hasCoverMetaIn
                        ">
                
<article class="post">
    
    
        <div class="post-header main-content-wrap text-left">
    
        <h1 class="post-title">
            Building Linux Workspace on Windows 10 via WSL
        </h1>
    
    
        <div class="post-meta">
    <time datetime="2018-05-13T15:35:46-07:00">
	
		    May 13, 2018
    	
    </time>
    
</div>

    
</div>

    
    <div class="post-content markdown">
        <div class="main-content-wrap">
            <img src="/2018/05/13/Building-Linux-Workspace-on-Windows-10-via-WSL/title.png" class="">

<p>I was not really a fan of Windows 10,<br>let alone Microsoft decided to ditch the most important feature I liked in Windows 7 - Aero.<br>In fact, I’d admit that in most cases I use Windows as an entertainment system<br>rather than a working platform.</p>
<p>Don’t get me wrong, Windows is great, both in terms of the quality of the software<br>and the design/usability of the system by itself. It’s also particularly great of you are<br>a .NET developer, a webmaster using IIS, or a game developer heavily using DirectX.<br>However, it’s just cumbersome to use it as a daily OSS platform, namely there lacks the<br>general ecosystem and the tools are just different. Yes you can install node, java, maven,<br>gradle, and you can probably use powershell to write shell scripts, but at the end of the day,<br>the overall configuration just feels different and since most people don’t use Windows<br>for work on a day-to-day basis, it just takes too much time and effort to learn a set of<br>rules with different flavor, just to get the environment set up.</p>
<p>However, things have changed.</p>
<p>The release of WSL (Windows Subsystem on Linux) in Windows 10 was like silent bomb.<br>It wasn’t really marketed to general public, but it implies the fundamental<br>change of attitude from Microsoft towards OSS community.</p>
<p>WSL is not a virtual machine. In fact there’s no real linux kernel running.<br>Instead, there is a layer in between that translates linux system calls to<br>something that windows kernel can handle. Technically, this is seriously phenomenal,<br>as there’s certain things that there’s no direct equivalent in Windows.</p>
<p>For example:</p>
<p>Quoted from <a href="https://blogs.msdn.microsoft.com/wsl/2016/06/08/wsl-system-calls/">MSDN blog</a></p>
<blockquote>
<p>The Linux fork syscall has no documented equivalent for Windows.<br>When a fork syscall is made on WSL, lxss.sys does some of the initial work<br>to prepare for copying the process.<br>It then calls internal NT APIs to create the process with the correct semantics<br>and create a thread in the process with an identical register context.<br>Finally, it does some additional work to complete copying the process<br>and resumes the new process so it can begin executing.</p>
</blockquote>
<p>And another one regarding <a href="https://blogs.msdn.microsoft.com/wsl/2016/06/15/wsl-file-system-support/">WSL file system</a>:</p>
<blockquote>
<p>The Windows Subsystem for Linux must translate various Linux file system operations<br>into NT kernel operations. WSL must provide a place where Linux system files can exist<br>with all the functionality required for that including Linux permissions,<br>symbolic links and other special files such as FIFOs;<br>it must provide access to the Windows volumes on your system;<br>and it must provide special file systems such as ProcFs.</p>
</blockquote>
<p>And now it even supports <a href="https://docs.microsoft.com/en-us/windows/wsl/interop">interop</a><br>after the Fall Creators update. This means if you type in <code>notepad.exe</code>,<br>it would literally open notepad for you. Not very exciting but beyond that you could<br>do</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">copy stuff to clipboard</span></span><br><span class="line">echo &#x27;foo bar&#x27; | clip.exe</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">open a file <span class="keyword">in</span> windows using default associated program</span></span><br><span class="line">cmd.exe /C start image.png</span><br></pre></td></tr></table></figure>

<p><strong>Awesome, but what’s our original topic?</strong></p>
<span id="more"></span>

<h2 id="Enable-WSL"><a href="#Enable-WSL" class="headerlink" title="Enable WSL"></a>Enable WSL</h2><p>Ok, to use WSL, you’d need to enable it first.</p>
<p><em>// Make sure you are using Windows 10 :)</em></p>
<p>If you are running windows <strong>earlier than 1709</strong>, the setup would be like this:</p>
<ol>
<li><p>Press Windows key. Type in “Turn windows features on or off” and click on the option that shows up.</p>
</li>
<li><p>Turn on WSL</p>
 <img src="/2018/05/13/Building-Linux-Workspace-on-Windows-10-via-WSL/WSL.png" class="">
</li>
<li><p>Reboot system. You will now have “Bash on Ubuntu on Windows” in your Start Menu.</p>
</li>
</ol>
<p>If you are running version <strong>&gt;= 1709</strong>, just search for “Ubuntu”<br>or other available distributions like “Debian” or “OpenSUSE” in Microsoft Store.</p>
<h2 id="Throw-Away-Cmd"><a href="#Throw-Away-Cmd" class="headerlink" title="Throw Away Cmd"></a>Throw Away Cmd</h2><p>The long lived cmd.exe in windows is not something people would generally like.</p>
<p>If you want to have something close to iTerm2 on Mac or Yakuake on KDE,<br>you can try <a href="https://conemu.github.io/">ConEmu</a> (see title image).</p>
<p>ConEmu allows for creating tabs (Win + Shift + W),<br>and splitting windows (Ctrl + Shift + O/E). Alternatively you can use tmux.</p>
<p>I personally enable the Quake style which allows me to hit <code>Ctrl + ~</code> to bring it down.</p>
<p>ConEmu does not seem to have start up with Windows option but you can get around that<br>by putting the shortcut into Startup folder in Start Menu and set the initial window<br>option to be “Minimized”.</p>
<h2 id="Basic-Setup"><a href="#Basic-Setup" class="headerlink" title="Basic Setup"></a>Basic Setup</h2><h3 id="Upgrade-Packages"><a href="#Upgrade-Packages" class="headerlink" title="Upgrade Packages"></a>Upgrade Packages</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">$ </span><span class="language-bash"><span class="built_in">sudo</span> apt -y update</span></span><br><span class="line"><span class="meta prompt_">$ </span><span class="language-bash"><span class="built_in">sudo</span> apt -y upgrade</span></span><br><span class="line"><span class="meta prompt_">$ </span><span class="language-bash"><span class="built_in">sudo</span> apt -y dist-upgrade</span></span><br><span class="line"><span class="meta prompt_">$ </span><span class="language-bash"><span class="built_in">sudo</span> apt -y autoremove</span></span><br></pre></td></tr></table></figure>

<h3 id="Change-to-Favorite-Shell"><a href="#Change-to-Favorite-Shell" class="headerlink" title="Change to Favorite Shell"></a>Change to Favorite Shell</h3><p>By default most distributions would use bash.</p>
<p>If you want to use zsh or other shell:</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">$ </span><span class="language-bash"><span class="built_in">sudo</span> chsh --shell /bin/zsh &lt;username&gt;</span></span><br></pre></td></tr></table></figure>

<p>or if you want to install oh-my-zsh:</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">sh -c <span class="string">&quot;<span class="subst">$(curl -fsSL https://raw.githubusercontent.com/robbyrussell/oh-my-zsh/master/tools/install.sh)</span>&quot;</span></span></span><br></pre></td></tr></table></figure>

<h3 id="Mount-Network-Drives"><a href="#Mount-Network-Drives" class="headerlink" title="Mount Network Drives"></a>Mount Network Drives</h3><p>Ubuntu on windows should have mounted all local disks for you under <code>/mnt</code>.<br>In case you need to mount a network drive like NAS:</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">$ </span><span class="language-bash"><span class="built_in">sudo</span> mount -t drvfs Z: /mnt/z</span></span><br></pre></td></tr></table></figure>

<h2 id="Some-Advanced-Tweaks-You-Might-Want"><a href="#Some-Advanced-Tweaks-You-Might-Want" class="headerlink" title="Some Advanced Tweaks You Might Want"></a>Some Advanced Tweaks You Might Want</h2><h3 id="Disabling-bell"><a href="#Disabling-bell" class="headerlink" title="Disabling bell"></a>Disabling bell</h3><p>By default you’ll hear an annoying “dang” every time you tab complete.<br>That is associated with the “Critical Stop” sound config in windows.<br>To stop it is shell specific but generally:</p>
<p>For bash, put this into <code>.bashrc</code></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">set</span> bell-style none</span><br></pre></td></tr></table></figure>

<p>For zsh, this works for me in <code>.zshrc</code></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">unsetopt</span> beep</span><br></pre></td></tr></table></figure>

<h3 id="Stop-Windows-From-Sharing-PATH"><a href="#Stop-Windows-From-Sharing-PATH" class="headerlink" title="Stop Windows From Sharing PATH"></a>Stop Windows From Sharing PATH</h3><p>By default Windows would copy PATH variables to WSL. This could be quite annoying<br>if you use tools like pyenv, rvm or nvm and you also have python, ruby, or node installed<br>in Windows as typically the stuff from Windows will take priority.</p>
<p>To fix that you can create a DWORD <code>AppendNtPath</code> under<br><code>HKEY_CURRENT_USER\Software\Microsoft\Windows\CurrentVersion\Lxss</code> and set the value to <code>0</code>.</p>
<p><strong>Update:</strong> The above trick seems to only work for legacy WSL (aka Bash on Ubuntu on Windows).<br>For new users, create a DWORD <code>DistributionFlags</code> with value <code>fffffffd</code> under <code>HKEY_LOCAL_MACHINE\SYSTEM\CurrentControlSet\Services\LxssManager</code>.<br>Then go to Services and restart the LxssManager service.</p>
<p>This is undocumented but described in <a href="https://github.com/Microsoft/WSL/issues/2048">WSL#2048</a>.</p>
<h3 id="Allow-Linux-to-Open-File-Using-Preferred-Application-in-Windows"><a href="#Allow-Linux-to-Open-File-Using-Preferred-Application-in-Windows" class="headerlink" title="Allow Linux to Open File Using Preferred Application in Windows"></a>Allow Linux to Open File Using Preferred Application in Windows</h3><p>This is quite useful if you just want to say check an image as WSL is not shipped with a desktop.<br>By default the <code>xdg-open</code> binary can be used in linux but WSL is not shipped with that either.</p>
<p>Luckily as WSL supports interop, there’s a trick:</p>
<ol>
<li><p>Create a file <code>/usr/bin/xdg-open</code> with content</p>
 <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#!/usr/bin/env sh</span></span><br><span class="line">/mnt/c/Windows/System32/cmd.exe /C start <span class="string">&quot;<span class="variable">$1</span>&quot;</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>Make it executable:</p>
 <figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">$ </span><span class="language-bash"><span class="built_in">sudo</span> <span class="built_in">chmod</span> +x /usr/bin/xdg-open</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>Use it:</p>
 <figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">xdg-open a.png</span></span><br></pre></td></tr></table></figure>

</li>
</ol>
<h3 id="Call-VSCode-from-Linux"><a href="#Call-VSCode-from-Linux" class="headerlink" title="Call VSCode from Linux"></a>Call VSCode from Linux</h3><p>You can technically get everything done with vi, but sometimes it’s easier to just use a GUI.</p>
<p>For VSCode Mac version there’s an option to install it to terminal, but it just doesn’t exist in Windows.</p>
<p>But with WSL interop, just put this in shell rc file:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">alias</span> code /mnt/c/Program\ Files/Microsoft\ VS\ Code/Code.exe</span><br></pre></td></tr></table></figure>

<p>To use it:</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">code path/to/my/file</span></span><br></pre></td></tr></table></figure>

<h3 id="Install-Python-Node-Ruby"><a href="#Install-Python-Node-Ruby" class="headerlink" title="Install Python/Node/Ruby"></a>Install Python/Node/Ruby</h3><p>I use pyenv and it’s the same as if you are in normal linux:</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">curl -L https://github.com/pyenv/pyenv-installer/raw/master/bin/pyenv-installer | zsh</span></span><br><span class="line">pyenv install 3.6.5</span><br><span class="line">pyenv shell 3.6.5</span><br></pre></td></tr></table></figure>

<p>Similar solution can be used for node and ruby using nvm and rvm respectively.</p>

            


        </div>
    </div>
    <div id="post-footer" class="post-footer main-content-wrap">
        
            <div class="post-footer-tags">
                <span class="text-color-light text-small">TAGGED IN</span><br/>
                
    <a class="tag tag--primary tag--small t-none-link" href="/tags/linux/" rel="tag">linux</a> <a class="tag tag--primary tag--small t-none-link" href="/tags/windows/" rel="tag">windows</a> <a class="tag tag--primary tag--small t-none-link" href="/tags/wsl/" rel="tag">wsl</a>

            </div>
        
        
            <div class="post-actions-wrap">
    <nav>
        <ul class="post-actions post-action-nav">
            <li class="post-action">
                
                    
                <a
                    class="post-action-btn btn btn--default tooltip--top"
                    href="/2018/05/14/Angular-4-Custom-Bootstrapping-Lazy-Bind-to-Designated-Container/"
                    data-tooltip="Angular 4+ Custom Bootstrapping: Lazy Bind to Designated Container"
                    aria-label="PREVIOUS: Angular 4+ Custom Bootstrapping: Lazy Bind to Designated Container"
                >
                    
                        <i class="fa fa-angle-left" aria-hidden="true"></i>
                        <span class="hide-xs hide-sm text-small icon-ml">PREVIOUS</span>
                    </a>
            </li>
            <li class="post-action">
                
                    
                <a
                    class="post-action-btn btn btn--default tooltip--top"
                    href="/2018/04/13/Workflow-Processing-Engine-Overview-2018-Airflow-vs-Azkaban-vs-Conductor-vs-Oozie-vs-Amazon-Step-Functions/"
                    data-tooltip="Workflow Processing Engine Overview 2018: Airflow vs Azkaban vs Conductor vs Oozie vs Amazon Step Functions"
                    aria-label="NEXT: Workflow Processing Engine Overview 2018: Airflow vs Azkaban vs Conductor vs Oozie vs Amazon Step Functions"
                >
                    
                        <span class="hide-xs hide-sm text-small icon-mr">NEXT</span>
                        <i class="fa fa-angle-right" aria-hidden="true"></i>
                    </a>
            </li>
        </ul>
    </nav>
    <ul class="post-actions post-action-share">
        <li class="post-action hide-lg hide-md hide-sm">
            <a
                class="post-action-btn btn btn--default btn-open-shareoptions"
                href="#btn-open-shareoptions"
                aria-label="Share this post"
            >
                <i class="fa fa-share-alt" aria-hidden="true"></i>
            </a>
        </li>
        
            
            
            <li class="post-action hide-xs">
                <a
                    class="post-action-btn btn btn--default"
                    target="new" href="https://www.facebook.com/sharer/sharer.php?u=https://xunnanxu.github.io/2018/05/13/Building-Linux-Workspace-on-Windows-10-via-WSL/"
                    title="Share on Facebook"
                    aria-label="Share on Facebook"
                >
                    <i class="fab fa-facebook" aria-hidden="true"></i>
                </a>
            </li>
        
            
            
            <li class="post-action hide-xs">
                <a
                    class="post-action-btn btn btn--default"
                    target="new" href="https://twitter.com/intent/tweet?text=https://xunnanxu.github.io/2018/05/13/Building-Linux-Workspace-on-Windows-10-via-WSL/"
                    title="Share on Twitter"
                    aria-label="Share on Twitter"
                >
                    <i class="fab fa-twitter" aria-hidden="true"></i>
                </a>
            </li>
        
            
            
            <li class="post-action hide-xs">
                <a
                    class="post-action-btn btn btn--default"
                    target="new" href="https://www.linkedin.com/shareArticle?mini=true&amp;url=https://xunnanxu.github.io/2018/05/13/Building-Linux-Workspace-on-Windows-10-via-WSL/"
                    title="global.share_on_linkedin"
                    aria-label="global.share_on_linkedin"
                >
                    <i class="fab fa-linkedin" aria-hidden="true"></i>
                </a>
            </li>
        
        
            
                <li class="post-action">
                    <a
                        class="post-action-btn btn btn--default"
                        href="#disqus_thread"
                        aria-label="Leave a comment"
                    >
                        <i class="fa fa-comment"></i>
                    </a>
                </li>
            
        
        <li class="post-action">
            
                <a class="post-action-btn btn btn--default" href="#" aria-label="Back to top">
            
                <i class="fa fa-list" aria-hidden="true"></i>
            </a>
        </li>
    </ul>
</div>


        
        
            
                <div id="disqus_thread">
    <noscript>Please enable JavaScript to view the <a href="//disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
</div>
            
        
    </div>
</article>



                <footer id="footer" class="main-content-wrap">
    <span class="copyrights">
        Copyrights &copy; 2025 Shawn Xu. All Rights Reserved.
    </span>
</footer>

            </div>
            
                <div id="bottom-bar" class="post-bottom-bar" data-behavior="4">
                    <div class="post-actions-wrap">
    <nav>
        <ul class="post-actions post-action-nav">
            <li class="post-action">
                
                    
                <a
                    class="post-action-btn btn btn--default tooltip--top"
                    href="/2018/05/14/Angular-4-Custom-Bootstrapping-Lazy-Bind-to-Designated-Container/"
                    data-tooltip="Angular 4+ Custom Bootstrapping: Lazy Bind to Designated Container"
                    aria-label="PREVIOUS: Angular 4+ Custom Bootstrapping: Lazy Bind to Designated Container"
                >
                    
                        <i class="fa fa-angle-left" aria-hidden="true"></i>
                        <span class="hide-xs hide-sm text-small icon-ml">PREVIOUS</span>
                    </a>
            </li>
            <li class="post-action">
                
                    
                <a
                    class="post-action-btn btn btn--default tooltip--top"
                    href="/2018/04/13/Workflow-Processing-Engine-Overview-2018-Airflow-vs-Azkaban-vs-Conductor-vs-Oozie-vs-Amazon-Step-Functions/"
                    data-tooltip="Workflow Processing Engine Overview 2018: Airflow vs Azkaban vs Conductor vs Oozie vs Amazon Step Functions"
                    aria-label="NEXT: Workflow Processing Engine Overview 2018: Airflow vs Azkaban vs Conductor vs Oozie vs Amazon Step Functions"
                >
                    
                        <span class="hide-xs hide-sm text-small icon-mr">NEXT</span>
                        <i class="fa fa-angle-right" aria-hidden="true"></i>
                    </a>
            </li>
        </ul>
    </nav>
    <ul class="post-actions post-action-share">
        <li class="post-action hide-lg hide-md hide-sm">
            <a
                class="post-action-btn btn btn--default btn-open-shareoptions"
                href="#btn-open-shareoptions"
                aria-label="Share this post"
            >
                <i class="fa fa-share-alt" aria-hidden="true"></i>
            </a>
        </li>
        
            
            
            <li class="post-action hide-xs">
                <a
                    class="post-action-btn btn btn--default"
                    target="new" href="https://www.facebook.com/sharer/sharer.php?u=https://xunnanxu.github.io/2018/05/13/Building-Linux-Workspace-on-Windows-10-via-WSL/"
                    title="Share on Facebook"
                    aria-label="Share on Facebook"
                >
                    <i class="fab fa-facebook" aria-hidden="true"></i>
                </a>
            </li>
        
            
            
            <li class="post-action hide-xs">
                <a
                    class="post-action-btn btn btn--default"
                    target="new" href="https://twitter.com/intent/tweet?text=https://xunnanxu.github.io/2018/05/13/Building-Linux-Workspace-on-Windows-10-via-WSL/"
                    title="Share on Twitter"
                    aria-label="Share on Twitter"
                >
                    <i class="fab fa-twitter" aria-hidden="true"></i>
                </a>
            </li>
        
            
            
            <li class="post-action hide-xs">
                <a
                    class="post-action-btn btn btn--default"
                    target="new" href="https://www.linkedin.com/shareArticle?mini=true&amp;url=https://xunnanxu.github.io/2018/05/13/Building-Linux-Workspace-on-Windows-10-via-WSL/"
                    title="global.share_on_linkedin"
                    aria-label="global.share_on_linkedin"
                >
                    <i class="fab fa-linkedin" aria-hidden="true"></i>
                </a>
            </li>
        
        
            
                <li class="post-action">
                    <a
                        class="post-action-btn btn btn--default"
                        href="#disqus_thread"
                        aria-label="Leave a comment"
                    >
                        <i class="fa fa-comment"></i>
                    </a>
                </li>
            
        
        <li class="post-action">
            
                <a class="post-action-btn btn btn--default" href="#" aria-label="Back to top">
            
                <i class="fa fa-list" aria-hidden="true"></i>
            </a>
        </li>
    </ul>
</div>


                </div>
                
    <div id="share-options-bar" class="share-options-bar" data-behavior="4">
        <i id="btn-close-shareoptions" class="fa fa-times"></i>
        <ul class="share-options">
            
                
                
                <li class="share-option">
                    <a
                        class="share-option-btn"
                        target="new"
                        href="https://www.facebook.com/sharer/sharer.php?u=https://xunnanxu.github.io/2018/05/13/Building-Linux-Workspace-on-Windows-10-via-WSL/"
                        aria-label="Share on Facebook"
                    >
                        <i class="fab fa-facebook" aria-hidden="true"></i><span>Share on Facebook</span>
                    </a>
                </li>
            
                
                
                <li class="share-option">
                    <a
                        class="share-option-btn"
                        target="new"
                        href="https://twitter.com/intent/tweet?text=https://xunnanxu.github.io/2018/05/13/Building-Linux-Workspace-on-Windows-10-via-WSL/"
                        aria-label="Share on Twitter"
                    >
                        <i class="fab fa-twitter" aria-hidden="true"></i><span>Share on Twitter</span>
                    </a>
                </li>
            
                
                
                <li class="share-option">
                    <a
                        class="share-option-btn"
                        target="new"
                        href="https://www.linkedin.com/shareArticle?mini=true&amp;url=https://xunnanxu.github.io/2018/05/13/Building-Linux-Workspace-on-Windows-10-via-WSL/"
                        aria-label="global.share_on_linkedin"
                    >
                        <i class="fab fa-linkedin" aria-hidden="true"></i><span>global.share_on_linkedin</span>
                    </a>
                </li>
            
        </ul>
    </div>


            
        </div>
        


    
        
    

<div id="about">
    <div id="about-card">
        <div id="about-btn-close">
            <i class="fa fa-times"></i>
        </div>
        
            <img id="about-card-picture" src="https://miro.medium.com/fit/c/90/90/1*7cPXDgvy2_tKMHR4SEd-yQ.jpeg" alt="Author&#39;s picture"/>
        
            <h4 id="about-card-name">Shawn Xu</h4>
        
            <div id="about-card-bio"><p>Software Engineer in Bay Area</p>
</div>
        
        
        
    </div>
</div>

        
        
<div id="cover" style="background-image:url('/assets/images/cover.jpg');"></div>
        <!--SCRIPTS-->

<script src="/assets/js/script-a5wszscostah6olx2wgfq7mglfmluysmmlvnxgmmszk3gwouxhlbwbsk0xkf.min.js"></script>

<!--SCRIPTS END-->


    
        <script>
          var disqus_config = function() {
            this.page.url = 'https://xunnanxu.github.io/2018/05/13/Building-Linux-Workspace-on-Windows-10-via-WSL/';
              
            this.page.identifier = '2018/05/13/Building-Linux-Workspace-on-Windows-10-via-WSL/';
              
          };
          (function() {
            var d = document, s = d.createElement('script');
            var disqus_shortname = 'xcorpion';
            s.src = '//' + disqus_shortname + '.disqus.com/embed.js';

            s.setAttribute('data-timestamp', +new Date());
            (d.head || d.body).appendChild(s);
          })();
        </script>
    




    </body>
</html>
